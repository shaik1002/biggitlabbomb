////
  Do NOT edit this file by hand directly, as it is automatically generated.

  Please make any necessary changes to the cop documentation within the source files themselves.
////

= Rake

[#rakerequire]
== Rake/Require

|===
| Enabled by default | Safe | Supports autocorrection | Version Added | Version Changed

| Enabled
| Yes
| No
| -
| -
|===

Flag global `require`s or `require_relative`s in rake files.

Load dependencies lazily in `task` definitions if possible.

[#examples-rakerequire]
=== Examples

[source,ruby]
----
# bad

require_relative 'gitlab/json'
require 'json'

task :parse_json do
  Gitlab::Json.parse(...)
end

namespace :json do
  require_relative 'gitlab/json'
  require 'json'

  task :parse_json do
  end
end

# good

task :parse_json do
  require_relative 'gitlab/json'
  require 'json'

  Gitlab::Json.parse(...)
end

namespace :json do
  task :parse_json do
    require_relative 'gitlab/json'
    require 'json'

    Gitlab::Json.parse(...)
  end
end

RSpec::Core::RakeTask.new(:parse_json) do |t, args|
  require_relative 'gitlab/json'
  require 'json'

  Gitlab::Json.parse(...)
end

# Requiring files which contain the word `task` is allowed.
require 'some_gem/rake_task'
require 'some_gem/rake_tasks'

SomeGem.define_tasks

# Loading in method definition as well.
def load_deps
  require 'json'
end

task :parse_json
  load_deps
end
----
