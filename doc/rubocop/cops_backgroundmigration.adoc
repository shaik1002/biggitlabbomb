////
  Do NOT edit this file by hand directly, as it is automatically generated.

  Please make any necessary changes to the cop documentation within the source files themselves.
////

= BackgroundMigration

[#backgroundmigrationavoidsilentrescueexceptions]
== BackgroundMigration/AvoidSilentRescueExceptions

|===
| Enabled by default | Safe | Supports autocorrection | Version Added | Version Changed

| Enabled
| Yes
| No
| -
| -
|===

Checks for rescuing errors inside batched background migration job classes.

[#examples-backgroundmigrationavoidsilentrescueexceptions]
=== Examples

[source,ruby]
----
# bad
def perform
  do_something
rescue StandardError => error
  logger.error(error.message)
end

# bad
def perform
  do_something
rescue JSON::ParserError, ActiveRecord::StatementTimeout => error
  logger.error(error.message)
end

# good
def perform
  do_something
rescue StandardError => error
  logger.error(error.message)

  raise
end

# good
def perform
  do_something
rescue JSON::ParserError, ActiveRecord::StatementTimeout => error
  logger.error(error.message)

  raise MyCustomException
end
----

[#backgroundmigrationdictionaryfile]
== BackgroundMigration/DictionaryFile

|===
| Enabled by default | Safe | Supports autocorrection | Version Added | Version Changed

| Enabled
| Yes
| No
| -
| -
|===

Checks the batched background migration has the corresponding dictionary file

[#backgroundmigrationfeaturecategory]
== BackgroundMigration/FeatureCategory

|===
| Enabled by default | Safe | Supports autocorrection | Version Added | Version Changed

| Enabled
| Yes
| No
| -
| -
|===

Cop that checks if a valid 'feature_category' is defined in the batched background migration job
