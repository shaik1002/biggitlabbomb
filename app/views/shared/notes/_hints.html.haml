- supports_file_upload = local_assigns.fetch(:supports_file_upload, true)
.comment-toolbar.gl-px-2.gl-display-flex.gl-justify-content-end.gl-rounded-bottom-left-base.gl-rounded-bottom-right-base.clearfix
  .content-editor-switcher.gl-display-inline-flex.gl-align-items-center
    = render Pajamas::ButtonComponent.new(category: :tertiary, icon: 'markdown-mark', size: :small, href: help_page_path('user/markdown'), target: '_blank', button_options: { class: 'gl-px-3!' })
  - if supports_file_upload
    %span.uploading-container.gl-line-height-32.gl-font-sm
      %span.uploading-progress-container.hide
        = sprite_icon('paperclip', css_class: 'gl-icon gl-vertical-align-text-bottom')
        %span.attaching-file-message
          -# Populated by app/assets/javascripts/dropzone_input.js
        %span.uploading-progress 0%
        = gl_loading_icon(inline: true, css_class: 'gl-mr-2')

      %span.uploading-error-container.hide
        %span.uploading-error-icon
          = sprite_icon('paperclip', css_class: 'gl-icon gl-vertical-align-text-bottom')
        %span.uploading-error-message
          -# Populated by app/assets/javascripts/dropzone_input.js
        = render Pajamas::ButtonComponent.new(variant: :link, button_options: { class: 'retry-uploading-link' }) do
          %span.gl-button-text
            = _("Try again")
        = _("or")
        = render Pajamas::ButtonComponent.new(variant: :link, button_options: { class: 'attach-new-file markdown-selector' }) do
          %span.gl-button-text
            = _("attach a new file")
        = _(".")

      = render Pajamas::ButtonComponent.new(variant: :link, button_options: { class: 'button-cancel-uploading-files hide' }) do
        %span.gl-button-text
          = _("Cancel")
